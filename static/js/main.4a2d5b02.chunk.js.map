{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Header/Header.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Navbar/Nav.jsx","redux/dialog-reducer.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Common/FormsControl/FormsControl.js","utils/validator/validator.js","components/Dialogs/Message/AddMessageForm.js","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx","api/api.js","utils/object-settings.js","redux/users-reducer.js","components/Users/Paginator.jsx","assets/images/user-icon.png","components/Users/User.jsx","components/Users/Users.jsx","assets/images/spinner-solid.svg","components/Common/Preloader.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","redux/profile-reducer.js","components/Profile/ProfileInfo/ProfileStatusHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","components/Navbar/Nav.module.css","components/Dialogs/Dialogs.module.css","components/Common/FormsControl/FormsControl.module.css","components/Users/users.module.css"],"names":["module","exports","Nav","className","style","nav","item","to","activeClassName","active","SEND_MESSAGE","initialState","messagesData","id","message","dialogsData","name","dialogReducer","state","action","type","body","newMessageBody","DialogItem","props","dialog","Message","text","TextArea","input","meta","hasError","touched","error","TextField","size","margin","label","CustomCheckbox","React","useState","checked","setChecked","FormControlLabel","control","Checkbox","onChange","e","target","required","value","maxLengthCreator","maxLength","length","maxLength100","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","validate","placeholder","Button","styles","button","Dialogs","messagesPage","dialogsElements","map","messagesElements","t","isAuth","dialogs","dialogsItem","messages","values","sendMessage","mapStateToPropsForRedirect","auth","compose","connect","dispatch","sendMessageCreator","Component","RedirectComponent","this","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","authAPI","email","password","rememberMe","updateObjInArray","items","itemId","objPropName","newObjProps","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingInProgress","followUnfollowFlow","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","onClick","p","selectedPage","User","user","src","photos","small","userIcon","userPhoto","disabled","some","Users","Preloader","preloader","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","bind","totalCount","ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","postsData","likesCount","profile","setStatus","profileReducer","newPost","newPostText","ProfileStatusHooks","editMode","setEditMode","useEffect","onDoubleClick","currentTarget","autoFocus","onBlur","ProfileInfo","isOwner","heroImage","alt","descriptionBlock","large","files","avatar","Post","likes","MyPosts","memo","console","log","postsElements","postsBlock","AddPostFormRedux","addPost","posts","maxLength10","MyPostsContainer","profilePage","addPostActionCreator","Profile","ProfileContainer","match","params","authorizedUserId","history","getUserProfile","refreshProfile","prevProps","prevState","snapshot","updateStaus","file","withRouter","Header","header","loginBlock","login","logout","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","LoginReduxForm","Alert","variant","severity","stopSubmit","_error","SET_INITIALIZED","initialized","appReducer","sidebarReducer","reducers","combineReducers","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","_store_","App","initializeApp","path","render","DialogsContainer","AppContainer","promise","Promise","all","BlogJsApp","StyledEngineProvider","injectFirst","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4a2d5b02.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"ProfileInfo_avatar__n0kFH\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__1W_a_\",\"heroImage\":\"ProfileInfo_heroImage__28q8v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__3orJQ\",\"newPost\":\"MyPosts_newPost__3nzJ0\",\"posts\":\"MyPosts_posts__3wApD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__No0Wg\",\"loginBlock\":\"Header_loginBlock__2nbRJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2czGV\"};","import React from \"react\";\r\nimport style from \"./Nav.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Nav = () => {\r\n  return (\r\n    <nav className={style.nav}>\r\n      <div className={style.item}>\r\n        <NavLink to=\"/profile\" activeClassName={style.active}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={`${style.item} ${style.active}`}>\r\n        <NavLink to=\"/dialogs\" activeClassName={style.active}>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n      <div className={style.item}>\r\n        <NavLink to=\"/users\">Users</NavLink>\r\n      </div>\r\n      <div className={style.item}>\r\n        <NavLink to=\"/news\">News</NavLink>\r\n      </div>\r\n      <div className={style.item}>\r\n        <NavLink to=\"/music\">Music</NavLink>\r\n      </div>\r\n      <div className={style.item}>\r\n        <NavLink to=\"/settings\">Settings</NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","const SEND_MESSAGE = \"SEND-MESSAGE\";\r\n\r\nlet initialState = {\r\n    messagesData: [\r\n        {id: 1, message: \"Hi!\"},\r\n        {id: 2, message: \"What's up!\"},\r\n        {id: 3, message: \"Hello!\"},\r\n        {id: 4, message: \"How are your doing?!\"},\r\n        {id: 5, message: \"Where is my money, Lebowski ?!\"},\r\n    ],\r\n\r\n    dialogsData: [\r\n        {id: 1, name: \"Olga\"},\r\n        {id: 2, name: \"Ivan\"},\r\n        {id: 3, name: \"Irina\"},\r\n        {id: 4, name: \"John\"},\r\n        {id: 5, name: \"Andrey\"},\r\n    ],\r\n};\r\n\r\nconst dialogReducer = (state = initialState, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, {id: 6, message: body}],\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});\r\n\r\n\r\nexport default dialogReducer;\r\n","import React from \"react\";\r\nimport style from \"./../Dialogs.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n// рендерит пользователей {\"/dialogs/\" + props.id} - конкатенация,\r\n// добавляет к эндпоинту номер порядковый по айди из dialogsData\r\nconst DialogItem = (props) => {\r\n  return (\r\n    <div className={style.dialog + \" \" + style.active}>\r\n      <NavLink to={\"/dialogs/\" + props.id}>{props.name}</NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\nimport style from \"./../Dialogs.module.css\";\r\n\r\n// рендерит сообщения\r\nconst Message = (props) => {\r\n  return <div className={style.message}>{props.text}</div>;\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport {Checkbox, FormControlLabel, TextField} from '@mui/material';\r\n\r\nexport const TextArea = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div>\r\n            <TextField error\r\n                       size='small'\r\n                       margin=\"dense\"\r\n                       label={hasError && meta.error}\r\n                       {...input} {...props}/>\r\n        </div>\r\n    )\r\n}\r\nexport const CustomCheckbox = ({input, meta, ...props}) => {\r\n    const [checked, setChecked] = React.useState(false)\r\n    return (\r\n        <div>\r\n            <FormControlLabel\r\n                control={<Checkbox checked={checked}\r\n                                   onChange={(e) => setChecked(e.target.checked)}\r\n                                   name={'check'}/>}\r\n                label=\"Remember me\"\r\n                {...input} {...props}/>\r\n        </div>\r\n    )\r\n}","export const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined\r\n}","import {Field, reduxForm} from 'redux-form';\r\nimport React from 'react';\r\nimport {TextArea} from '../../Common/FormsControl/FormsControl';\r\nimport {maxLengthCreator, required} from '../../../utils/validator/validator';\r\nimport styles from '../../Common/FormsControl/FormsControl.module.css';\r\nimport {Button} from '@mui/material';\r\n\r\nconst maxLength100 = maxLengthCreator(100)\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={TextArea} validate={[required, maxLength100]} name={'newMessageBody'}\r\n                       placeholder='enter your massage'/>\r\n            </div>\r\n            <div>\r\n                <Button className={styles.button} type=\"submit\">Send</Button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport const AddMessageFormRedux = reduxForm({form: 'dialogAddMessageForm'})(AddMessageForm)","import React from \"react\";\r\nimport style from \"./Dialogs.module.css\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Redirect} from 'react-router-dom';\r\nimport {AddMessageFormRedux} from './Message/AddMessageForm';\r\n\r\n\r\nconst Dialogs = (props) => {\r\n    let state = props.messagesPage;\r\n\r\n    // проходим мапом по массиву из объектов. метод мап вызывается для каждого объекта в массиве\r\n    let dialogsElements = state.dialogsData.map((dialog) => (\r\n        <DialogItem name={dialog.name} id={dialog.id}/>\r\n    ));\r\n    let messagesElements = state.messagesData.map((t) => (\r\n        <Message text={t.message}/>\r\n    ));\r\n    let newMessageBody = state.newMessageBody;\r\n\r\n\r\n    const addNewMessage = (values) => {\r\n        props.sendMessage(values.newMessageBody)\r\n    }\r\n\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>;\r\n\r\n\r\n    return (\r\n        <div className={style.dialogs}>\r\n            <div className={style.dialogsItem}>{dialogsElements}</div>\r\n            <div className={style.messages}>\r\n                <div>{messagesElements}</div>\r\n            </div>\r\n            <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default Dialogs;\r\n","import {Redirect, useRouteMatch} from 'react-router-dom';\r\nimport React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({isAuth: state.auth.isAuth})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component{...this.props}/>\r\n        }\r\n    }\r\n\r\n    let connectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return connectedAuthRedirectComponent;\r\n}\r\n\r\nexport const withRouter = (Component) => {\r\n    let RouterComponent = (props) => {\r\n        const match = useRouteMatch('/profile/:userId/');\r\n        return <Component {...props} match={match}/>;\r\n    }\r\n    return RouterComponent;\r\n}","import React from \"react\";\r\nimport {sendMessageCreator,} from \"../../redux/dialog-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport {compose} from 'redux';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        messagesPage: state.messagesPage,\r\n\r\n    };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageBody) => {\r\n            dispatch(sendMessageCreator(newMessageBody));\r\n        },\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);\r\n","import * as axios from 'axios';\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {'API-KEY': 'a1e1af33-ed96-4178-924e-0d18de8ee9bc'}\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 20) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`,\r\n        ).then(response => response.data)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId)\r\n\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, {status: status});\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData()\r\n        formData.append('image', photoFile)\r\n        return instance.put(`profile/photo/`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    authMe() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\n\r\nexport const follow = (currentPage = 1, pageSize = 10) => {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`,\r\n    ).then(response => response.data)\r\n}","export const updateObjInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map((u) => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps};\r\n        }\r\n        return u;\r\n    })\r\n}","import {usersAPI} from '../api/api';\r\nimport {updateObjInArray} from '../utils/object-settings';\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 20,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjInArray(state.users, action.userId, 'id', {followed: false})\r\n\r\n            };\r\n\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users,\r\n            };\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage};\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count};\r\n\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching};\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage,});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount,});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching,});\r\nexport const toggleFollowingInProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n\r\n        let data = await usersAPI.getUsers(currentPage, pageSize)\r\n\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n        dispatch(setCurrentPage(currentPage))\r\n\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, apiMethod, actionCreator, userId,) => {\r\n    dispatch(toggleFollowingInProgress(true, userId))\r\n    let response = await apiMethod(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingInProgress(false, userId))\r\n}\r\n\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.follow.bind(usersAPI)\r\n\r\n        followUnfollowFlow(dispatch, apiMethod, followSuccess, userId,)\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.unfollow.bind(usersAPI)\r\n\r\n        followUnfollowFlow(dispatch, apiMethod, unfollowSuccess, userId,)\r\n    }\r\n}\r\n\r\nexport default usersReducer;\r\n","import React, {useState} from \"react\";\nimport styles from './users.module.css'\n\n\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n    let pages = [];\n    for (let i = 1; i <= pagesCount; i++) pages.push(i);\n\n    let portionCount = Math.ceil(pagesCount / portionSize)\n    let [portionNumber, setPortionNumber] = useState(1)\n    let leftPortionNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionNumber = portionNumber * portionSize\n\n    return (\n        <div>\n            {portionNumber > 1 &&\n            <button onClick={() => {\n                setPortionNumber(portionNumber - 1)\n            }}>PREV</button>}\n\n            {pages\n                .filter(p => p >= leftPortionNumber && p <= rightPortionNumber)\n                .map((p) => {\n                    return (\n                        <span\n                            className={currentPage === p && styles.selectedPage}\n                            onClick={(e) => {\n                                onPageChanged(p);\n                            }}> {p} </span>\n                    );\n                })}\n            {portionCount > portionNumber && <button onClick={() => {\n                setPortionNumber(portionNumber + 1)\n            }}>NEXT</button>}\n        </div>\n\n        // <Pagination count={pages} page={props.currentPage}/>\n    )\n}\n\n\nexport default Paginator;\n","export default __webpack_public_path__ + \"static/media/user-icon.998e6aeb.png\";","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport userIcon from \"../../assets/images/user-icon.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, follow, unfollow, id, ...props}) => {\r\n\r\n\r\n    return (\r\n\r\n        <div>\r\n          <span>\r\n            <div>\r\n              <NavLink to={\"/profile/\" + user.id}>\r\n                <img\r\n                    src={user.photos.small != null ? user.photos.small : userIcon}\r\n                    className={styles.userPhoto}\r\n                />\r\n              </NavLink>\r\n            </div>\r\n            <div>\r\n              {user.followed ? (\r\n                  <button disabled={followingInProgress.some(id => id === user.id)}\r\n                          onClick={() => {\r\n                              unfollow(user.id)\r\n                          }}>Unfollow</button>) : (\r\n                  <button disabled={followingInProgress.some(id => id === user.id)}\r\n                          onClick={() => {\r\n                              follow(user.id);\r\n                          }}>Follow</button>\r\n              )}\r\n            </div>\r\n          </span>\r\n            <span>\r\n            <div>\r\n              <div>{user.name}</div>\r\n              <div>{user.status}</div>\r\n            </div>\r\n            <div>\r\n              <div>{\"user.location.city\"}</div>\r\n              <div>{\"user.location.country\"}</div>\r\n            </div>\r\n          </span>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default User;\r\n","import React from \"react\";\nimport Paginator from './Paginator';\nimport User from './User';\n\nlet Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, users, ...props}) => {\n\n\n    return (\n\n        <div>\n            <Paginator currentPage={currentPage}\n                       onPageChanged={onPageChanged}\n                       totalItemsCount={totalUsersCount}\n                       pageSize={pageSize}/>\n\n            {users.map((u) => (\n                <User user={u} followingInProgress={props.followingInProgress} key={u.id}\n                      unfollow={props.unfollow} follow={props.follow}/>\n            ))}\n        </div>\n    );\n};\n\nexport default Users;\n","export default __webpack_public_path__ + \"static/media/spinner-solid.b2c94047.svg\";","import preloader from '../../assets/images/spinner-solid.svg';\r\nimport styles from '../Users/users.module.css';\r\nimport React from 'react';\r\n\r\nlet Preloader = (props) => {\r\n    return <img src={preloader} className={styles.preloader}/>\r\n}\r\n\r\nexport default Preloader","export const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {follow, requestUsers, setCurrentPage, toggleFollowingInProgress, unfollow,} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from '../Common/Preloader';\r\nimport {compose} from 'redux';\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching ? <Preloader/> : null}\r\n                <Users\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    users={this.props.users}\r\n                    follow={this.props.follow}\r\n                    unfollow={this.props.unfollow}\r\n                    onPageChanged={this.onPageChanged}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress,\r\n//     };\r\n// };\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    };\r\n};\r\n\r\n\r\nexport default compose(\r\n    // withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        toggleFollowingInProgress,\r\n        getUsers: requestUsers,\r\n    })\r\n)(UsersContainer)\r\n\r\n\r\n\r\n","import {profileAPI, usersAPI} from '../api/api';\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        {id: 1, message: \"Hi, that is my first post\", likesCount: \"♥ 10 \"},\r\n        {id: 2, message: \"I was launch my spaceship\", likesCount: \"♥ 15 \"},\r\n        {id: 3, message: \"Tesla is the best e-car\", likesCount: \"♥ 100 \"},\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: \"♥ 0\",\r\n            };\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost],\r\n                newPostText: \"\",\r\n            };\r\n        }\r\n\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status}\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {...state, profile: {...state.profile, photos: action.photos}}\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status,});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos,});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data))\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data))\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n};\r\n\r\n\r\nexport default profileReducer;\r\n","import React, {useEffect, useState} from 'react';\r\n\r\nconst ProfileStatusHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status || 'Status Qo'}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status}\r\n                />\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileStatusHooks","import React from \"react\";\r\nimport style from \"./ProfileInfo.module.css\";\r\nimport Preloader from '../../Common/Preloader';\r\nimport userPhoto from '../../../assets/images/user-icon.png';\r\nimport ProfileStatusHooks from './ProfileStatusHooks';\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus, isOwner, savePhoto}) => {\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <img\r\n                    className={style.heroImage}\r\n                    src=\"http://www.wincore.ru/uploads/posts/2015-07/1435764975_img9.jpg\"\r\n                    alt=\"hero\"\r\n                />\r\n            </div>\r\n            <div className={style.descriptionBlock}>\r\n                <img src={profile.photos.large || userPhoto}/>\r\n                {isOwner && <input type={'file'} onChange={onPhotoSelected}/>}\r\n                <img\r\n                    className={style.avatar}\r\n                    src=\"https://pinster.ru/cache/7c30d78b/avcd43ac08ca90bc0fb74.jpeg\"\r\n                    alt=\"cat\"\r\n                />\r\n                description\r\n                <ProfileStatusHooks status={status} updateStatus={updateStatus}/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport style from \"./Post.module.css\";\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={style.item}>\r\n      <img\r\n        src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTdPTZvHXqUKrFwXtWTABC_5Lt6DC1u4x2vag&usqp=CAU\"\r\n        alt=\"avatar\"\r\n      />\r\n      {props.message}\r\n      <div>\r\n        <span>{props.likes}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from \"react\";\r\nimport style from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {maxLengthCreator, required} from '../../../utils/validator/validator';\r\nimport {TextArea} from '../../Common/FormsControl/FormsControl';\r\nimport {Button} from '@mui/material';\r\nimport styles from './../../Common/FormsControl/FormsControl.module.css'\r\n\r\nconst MyPosts = React.memo(props => {\r\n\r\n    console.log('Hello')\r\n\r\n    let postsElements = props.postsData.map((p) => (\r\n        <Post message={p.message} likes={p.likesCount}/>\r\n    ));\r\n    let newPostElement = React.createRef();\r\n\r\n    const onAddPost = (values) => {\r\n        props.addPost(values.newPostText)\r\n    }\r\n\r\n    return (\r\n        <div className={style.postsBlock}>\r\n            <div className={style.newPost}>\r\n                <h3>My post</h3>\r\n                <div><AddPostFormRedux onSubmit={onAddPost}/></div>\r\n            </div>\r\n            <div className={style.posts}>{postsElements}</div>\r\n        </div>\r\n    );\r\n});\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nconst AddNewPost = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={TextArea} name={'newPostText'} placeholder={'write post'}\r\n                       validate={[required, maxLength10]}/>\r\n            </div>\r\n            <div>\r\n                <Button className={styles.button} type=\"submit\">Add post</Button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nconst AddPostFormRedux = reduxForm({form: 'dialogAddPostForm'})(AddNewPost)\r\n\r\nexport default MyPosts;\r\n","import React from \"react\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {addPostActionCreator,} from \"../../../redux/profile-reducer\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        postsData: state.profilePage.postsData,\r\n        newPostText: state.profilePage.newPostText,\r\n    };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostActionCreator(newPostText));\r\n        },\r\n    };\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo savePhoto={props.savePhoto} isOwner={props.isOwner} profile={props.profile}\r\n                         status={props.status}\r\n                         updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport {connect} from 'react-redux';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {getStatus, getUserProfile, savePhoto, updateStatus} from '../../redux/profile-reducer';\r\nimport {compose} from 'redux';\r\nimport Profile from './Profile';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile() {\r\n\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId)\r\n\r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n        // let userId = this.props.params.userId ? this.props.params.userId : '2';\r\n        // let userId = this.props.match ? this.props.match.params.userId : this.props.authorizedUserId\r\n\r\n        //     if (!userId) {\r\n        //         this.props.history.push('/login')\r\n        //     }\r\n        // }\r\n\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} isOwner={!this.props.match.params.userId} profile={this.props.profile}\r\n                     status={this.props.status} savePhoto={this.props.savePhoto}\r\n                     updateStaus={this.props.updateStatus}/>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n\r\n})\r\n\r\n\r\n// let WithUrlDataContainerComponent = withRouter(ProfileContainer); //1 метод-устаревший, выпилили в react6\r\n\r\n// const WithUrlDataContainerComponent = (props) => { //2 метод-рабочий, дает доступ к params\r\n//     const params = useParams();\r\n//     return <ProfileContainer {...props} params={params}/>;\r\n// }\r\n\r\n// const WithUrlDataContainerComponent = (props) => { //3 метод-новый, аналогичен withRoute, но более продвинутый\r\n//     const match = useRouteMatch('/profile/:userId/');\r\n//     return <ProfileContainer {...props} match={match}/>;\r\n// }\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto}),\r\n    withRouter,\r\n)(ProfileContainer)\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\nimport style from \"./Header.module.css\";\nimport {NavLink} from \"react-router-dom\";\n\nconst Header = (props) => {\n    return (\n        <header className={style.header}>\n            <img\n                src=\"https://uploads.turbologo.com/uploads/design/hq_preview_image/1020095/draw_svg20210507-22909-1scw2hm.svg.png\"\n                alt=\"logo\"\n            />\n            <div className={style.loginBlock}>\n                {props.isAuth ? <div>{props.login}\n                    <button onClick={props.logout}>Log Out</button>\n                </div> : <NavLink to={\"/login\"}>Login</NavLink>}\n            </div>\n        </header>\n    );\n};\n\nexport default Header;\n","import {authAPI} from '../api/api';\nimport {stopSubmit} from 'redux-form';\n\nconst SET_USER_DATA = \"SET_USER_DATA\";\n\nlet initialState = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n};\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_USER_DATA:\n            return {\n                ...state,\n                ...action.payload,\n\n            };\n        default:\n            return state;\n    }\n};\n\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\n    type: SET_USER_DATA,\n    payload: {userId, email, login, isAuth},\n});\n\nexport const getAuthUserData = () => async (dispatch) => {\n    let response = await authAPI.authMe();\n    if (response.data.resultCode === 0) {\n        let {id, email, login} = response.data.data;\n        dispatch(setAuthUserData(id, email, login, true));\n    }\n}\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n\n    let response = await authAPI.login(email, password, rememberMe);\n\n    if (response.data.resultCode === 0) {\n        dispatch(getAuthUserData())\n    } else {\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\n        dispatch(stopSubmit('login', {_error: message}))\n    }\n}\n\n// export const logout = () => (dispatch) => {\n//     authAPI.logout().then((response) => {\n//         if (response.data.resultCode === 0) {\n//\n//             dispatch(setAuthUserData(null, null, null, false));\n//         }\n//     });\n// }  Переделали then на async await\n\nexport const logout = () => async (dispatch) => {\n    let response = await authAPI.logout();\n\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false));\n    }\n}\n\n\nexport default authReducer;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {logout} from \"../../redux/auth-reducer\";\n\nclass HeaderContainer extends React.Component {\n\n    render() {\n        return <Header {...this.props} />;\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    login: state.auth.login,\n});\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\n","import React from 'react';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {CustomCheckbox, TextArea} from '../Common/FormsControl/FormsControl';\r\nimport styles from '../Common/FormsControl/FormsControl.module.css';\r\nimport {Alert, Button} from '@mui/material';\r\nimport {required} from '../../utils/validator/validator';\r\nimport {login} from '../../redux/auth-reducer';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return <div>\r\n        <form onSubmit={handleSubmit}>\r\n\r\n            {error && <Alert variant=\"filled\" severity=\"error\">\r\n                {error}\r\n            </Alert>}\r\n            {/*сделал до вывода ошибок, все работает 17 минута 79 видео*/}\r\n\r\n            <div><Field placeholder={'Email'} name={'email'} component={TextArea} validate={[required]}/></div>\r\n            <div><Field placeholder={'Password'} type={'password'} name={'password'} component={TextArea}\r\n                        validate={[required]}/></div>\r\n            <div><Field name={'remember'} component={CustomCheckbox} type={'checkbox'}/></div>\r\n\r\n\r\n            <div>\r\n                <Button className={styles.button} type=\"submit\">Login</Button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({isAuth: state.auth.isAuth})\r\n\r\nexport default connect(mapStateToProps, {login})(Login)\r\n\r\n","import {getAuthUserData} from './auth-reducer';\n\nconst SET_INITIALIZED = \"SET_INITIALIZED\";\n\nlet initialState = {\n    initialized: false,\n\n};\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_INITIALIZED:\n            return {\n                ...state,\n                initialized: true,\n            };\n        default:\n            return state;\n    }\n};\n\nexport const initializedSuccess = () => ({type: SET_INITIALIZED});\n\nexport const initializeApp = () => (dispatch) => {\n    let promise = dispatch(getAuthUserData())\n    Promise.all([promise]).then(() => {\n        dispatch(initializedSuccess())\n    })\n}\n\n\nexport default appReducer;\n","let initialState = {};\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state;\r\n};\r\nexport default sidebarReducer;\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogReducer from \"./dialog-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from './auth-reducer';\r\nimport thunk from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: dialogReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)\r\n));\r\n\r\nwindow._store_ = store;\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport Nav from \"./components/Navbar/Nav\";\r\nimport {HashRouter, Route} from \"react-router-dom\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginPage from './components/Login/login';\r\nimport {connect, Provider} from 'react-redux';\r\nimport {initializeApp} from './redux/app-reducer';\r\nimport Preloader from './components/Common/Preloader';\r\nimport store from './redux/redux-store';\r\nimport {StyledEngineProvider} from '@mui/material/styles';\r\n\r\n// const DialogsContainer = React.lazy(() => import ('./components/Dialogs/DialogsContainer'));\r\n\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized)\r\n            return <Preloader/>\r\n\r\n        return (\r\n            <HashRouter>\r\n                <div className=\"app-wrapper\">\r\n                    <HeaderContainer/>\r\n                    <Nav/>\r\n                    <div className=\"app-wrapper-content\">\r\n                        <Route path=\"/dialogs\" render={() => <DialogsContainer/>}/>\r\n                        <Route path=\"/profile/:userId*\" render={() => <ProfileContainer/>}/>\r\n                        <Route path=\"/users\" render={() => <UsersContainer/>}/>\r\n                        <Route path=\"/login\" render={() => <LoginPage/>}/>\r\n                    </div>\r\n                </div>\r\n            </HashRouter>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = connect(mapStateToProps, {initializeApp})(App);\r\n\r\nlet BlogJsApp = (props) => {\r\n    return <HashRouter>\r\n        <Provider store={store}>\r\n            <StyledEngineProvider injectFirst>\r\n                <AppContainer/>\r\n            </StyledEngineProvider>\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\nexport default BlogJsApp;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport BlogJsApp from './App';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <BlogJsApp/>\r\n    </React.StrictMode>,\r\n    document.getElementById(\"root\")\r\n);\r\n\r\n// renderEntireTree(store.getState());\r\n\r\n// store.subscribe(() => {\r\n//   let stat = store.getState();\r\n//   renderEntireTree(stat);\r\n// });\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__2RGLS\",\"item\":\"Nav_item__2eRjL\",\"active\":\"Nav_active__2g8Pu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__38JI6\",\"dialogsItem\":\"Dialogs_dialogsItem__2Y6jC\",\"active\":\"Dialogs_active__VoPJ3\",\"dialog\":\"Dialogs_dialog__3cCt0\",\"messages\":\"Dialogs_messages__V7vpe\",\"message\":\"Dialogs_message__2A9Xt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-control\":\"FormsControl_form-control__2eGMx\",\"error\":\"FormsControl_error__JBmWI\",\"button\":\"FormsControl_button__2JdMs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2zXak\",\"selectedPage\":\"users_selectedPage__2gV__\",\"preloader\":\"users_preloader__3VEH3\"};"],"sourceRoot":""}